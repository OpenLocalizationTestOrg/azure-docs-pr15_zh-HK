<properties
    pageTitle="快速入门指南︰ 机器学习建议 API |Microsoft Azure"
    description="Azure 的机器学习的建议-快速入门指南"
    services="cognitive-services"
    documentationCenter=""
    authors="luiscabrer"
    manager="jhubbard"
    editor="cgronlun"/>

<tags
    ms.service="cognitive-services"
    ms.workload="data-services"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="08/22/2016"
    ms.author="luisca"/>

# <a name="quick-start-guide-for-the-cognitive-services-recommendations-api"></a>认知的服务建议 API 的快速入门指南

此文档介绍了如何为板载您的服务或应用程序使用[API 的建议](http://go.microsoft.com/fwlink/?LinkId=759710)。
您可以找到更多详细信息的建议 API 和其他认知服务[这里](http://go.microsoft.com/fwlink/?LinkId=759709)。 在本指南中，您还可能发现[建议 API 参考](http://go.microsoft.com/fwlink/?LinkId=759348)方便。


<a name="Overview"></a>
## <a name="general-overview"></a>一般概述

本文是一个分步指南。 我们的目标是指导您完成训练模型，并以您指向资源，您可以使用从您的生产环境的模型所必需的步骤。

本练习将需要大约 30 分钟。

若要使用[建议的 API](http://go.microsoft.com/fwlink/?LinkId=759710)，您需要执行以下步骤︰

1. 创建模型-模型是使用数据、 目录数据和建议模型的容器。
1. 导入目录数据的目录包含有关项的元数据信息。
1. 可以两种方式之一 （或两者） 在上载导入使用数据的使用情况数据︰
  -  在通过上传一个文件，其中包含使用情况数据。
  -  发送数据收集事件。
  通常您上载使用文件以便能够创建初始建议模型 （引导） 并使用它，直到系统收集足够的数据，通过数据采集格式。
1. 生成建议模型-这是推荐系统需要使用的所有数据，并创建了一个建议模型的异步操作。 此操作可能需要几分钟或几小时，具体取决于数据和生成的配置参数的大小。 当触发生成，您将看到一个生成的 id。 用它来检查时生成过程已结束之前开始消耗的建议。
1. 使用建议的特定项目或项目的列表获取建议。

<a name="GetStarted"></a>
### <a name="lets-get-started"></a>让我们开始吧 ！

首先构建一个建议模型。 然后我们将指导您如何使用电源在电子商务网站上的推荐模型生成的结果。

<a name="Ex1Task1"></a>
#### <a name="task-1---signing-up-for-the-recommendations-api"></a>任务 1-为建议 API 签名 ####

在此任务中，您将注册建议 API 服务中，并创建建议模型。

1. 转到**Azure 门户网站** [http://portal.azure.com/](http://portal.azure.com/)和 Azure 帐户登录。

1.  单击**+ 新**。

1. 选择**智能**选项。

1. 选择的**认知服务 Api**产品。
本产品可以用来启动任何认知服务 Api （字体、 文本分析、 计算机视觉等） 的预订。 今天我们将专注于建议 API。

1. 在认知服务 API 登录页上，为您建议订阅时间输入**帐户名**。 (实例为:"MyRecommendations")。 此名称不应具有任何空格。

1. 在**API 类型**，选择**建议**。

1. 在**定价层**上，您可以选择计划。 您可以选择每个月 10000 事务的**自由**层。 这是一个免费的计划，因此就开始尝试系统的好方法。 后转到生产环境时，建议您考虑您请求的卷，并相应地更改计划类型。 (注意︰ 您可以每次只有一个自由层预订)

1. 选择一个**资源组**中，或如果您还没有创建一个新。

1. 您可以更改对话框中的其他元素。 应该指出，资源提供程序目前仅支持从美国数据中心。

1. 一旦处理完任何选择，请单击**创建**。

1. 等待几分钟要部署的资源。
一旦部署，可以转到位置将为您提供要使用 API 的主、 辅密钥**设置**刀片式服务器的**键**部分。  复制主键，在创建您的第一个模型时将需要它。

<a name="Ex1Task2"></a>
#### <a name="task-2---did-you-bring-your-data"></a>任务 2-未将您的数据吗？ ####

建议 API 将学习从您的目录和您的交易，以提供优质的产品建议。 这意味着您需要向它提供正确的数据，有关产品 （我们称之为**目录**文件） 和一组事务足够大，以使它能够查找有趣的 （我们称这种**用法**） 的消耗模式。

1. 通常您会查询这些方面的信息交易记录数据库。
只是以防万一您没有它们很方便，我们根据 Microsoft 存储交易记录数据提供了一些示例数据。

 您可以从[此处](http://aka.ms/RecoSampleData)下载数据。 复制，然后将 MsStoreData.Zip 解到您的本地计算机上的文件夹。

 > **注意︰**将下载并运行任务 3 中的示例代码具有已嵌入--此任务是可选的示例数据。  也就是说，该任务将允许您下载更真实数据集并允许您了解输入到更好的 API 的建议。

1.  现在让我们看看目录文件。 导航到复制数据的位置的位置。
 在**记事本**中打开编录文件。

 您将注意到编录文件是非常简单。 它具有以下格式`<itemid>,<item name>,<product category>`

 >  AAA-04294，OfficeLangPack 2013 32/64 E34 在线 DwnLd 办公室 <br>
 > AAA-04303，OfficeLangPack 2013 32/64 ET 在线 DwnLd 办公室  <br>
 > C9F 00168、 KRUSELL Kiruna 翻转盖为诺基亚 Lumia 635-Camel、 附件

 我们应该指出，编录文件可以更丰富，例如，您可以添加有关产品 （我们称这些*项的功能*） 的元数据。 目录格式，您应该看到更多详细信息的 API 参考中的[目录格式](http://go.microsoft.com/fwlink/?LinkID=760716)一节。

1. 让我们做同样的使用率数据。 您会注意到使用日期是格式的`<User Id>,<Item Id>,<Time Stamp>,<Event>`。

  > 00037FFEA61FCA16，288186200，2015年/08/04T11:02:52、 采购 0003BFFDD4C2148C 297833400、 2015年/08/04T11:02:50、 采购 0003BFFDD4C2118D 297833300、 2015年/08/04T11:02:40、 采购 00030000D16C4237 297833300、 2015年/08/04T11:02:37、 采购 0003BFFDD4C20B63 297833400、 2015年/08/04T11:02:12、 采购 00037FFEC8567FB8 297833400、 2015年/08/04T11:02:04，采购

请注意前三个元素是必需的。 事件类型是可选的。 您可以签出[使用格式](http://go.microsoft.com/fwlink/?LinkID=760712)的关于此主题的详细信息。

 > **您需要多少数据？**
 <p>
嗯，它实际上取决于本身的使用情况数据。 系统了解到当用户购买不同的项目。 对于一些像 FBT 的生成，是一定要知道哪些项目在同一事务中购买。 （我们称此*联的事件*）。 好的经验法则是让大多数项目处于 20 交易记录或更多，因此，如果您在您的目录中有 10000 项，我们建议您有至少 20 次大约 200000 的交易记录的交易记录的数量。
再次，这是经验法则。 您需要对您的数据进行试验。
</p>

<a name="Ex1Task3"></a>
####任务 3-创建建议模型####

现在，您有一个帐户，您的数据，让我们创建您的第一个模型。

在此任务中，您将使用示例应用程序来构建您的第一个模型。

1. 首先应该注意的[建议 API 参考](http://go.microsoft.com/fwlink/?LinkId=759348)。

1. 将[示例应用程序](http://go.microsoft.com/fwlink/?LinkID=759344)下载到本地文件夹。

1. 在 Visual Studio 中打开**RecommendationsSample.sln**解决方案位于**C#**文件夹中。

1. 打开**SampleApp.cs**文件。 下列步骤在该文件中的注释︰
 + 创建模型
 + 添加编录文件
 + 添加使用文件
 + 触发生成模型
 + 获取基于一项对一些建议
<p></p>

1. **AccountKey**字段中的值替换任务 1 的密钥。

1. 通过该解决方案的步骤，您将看到如何创建一个模型获取。

1. 请尝试替换目录和使用文件只需下载为 Microsoft 存储区，或书籍建议创建一个新的模型。 您将需要更改模型名称，以及您为其请求的建议的项目。

1. 创建模型时，记下的**模型 ID**因为请求建议在生产环境中的时将需要它。

>  了解有关生成类型以及如何评估生成的质量[在此处](cognitive-services-recommendations-buildtypes.md)。

<a name="Ex1Task4"></a>
### <a name="putting-your-model-in-production"></a>将您的模型放在生产 ！ ###

现在，您已了解如何创建模型和使用的建议下, 一步是将其放在您的网站，移动应用程序上的生产或集成到您的 CRM 或 ERP 系统。
显然，这些执行将不同。 由于建议 API 作为 web 服务请求，应该能够很容易地从这些不同的环境中的任何调用。

**重要︰** 如果您想要显示从公用客户端 （例如，电子商务网站） 的建议，您应该创建一个代理服务器以提供建议。 这是重要的这样的 API 密钥不会公开给外部 （可能不受信任） 的实体。

这里有几个位置，您可以使用建议的建议︰

### <a name="product-page"></a>产品页

**项目建议**
<p>如果模型培训采购数据，则可以*发现可能感兴趣的人，购买了源项的产品*给客户。</p>
<p>如果模型培训上单击数据，则可以*发现可能被访问过的人，过的源项的产品*给客户。 这种类型的模型可能会返回类似的项。</p>

**经常在一起购买的建议**
<p>经常在一起购买生成一个可以进行培训，因此可以获得组项目很可能与此项目一起购买。</p>

### <a name="check-out-page"></a>签出页面

**项目建议**
<p>模型可以作为建议的输入项的列表。 因此，作为输入来获得建议，可以在购物篮中传递的所有项目。
在这种情况下，该模型将提供感兴趣提供购物篮中的所有项的建议。
</p>

### <a name="landing-page"></a>登录页

**用户的建议**
<p>
建议模型可以作为输入的用户 id。  这将使用该用户的交易记录的历史记录来提供个性化的建议提供给指定的用户。
</p>

签出[获取项建议文档](http://go.microsoft.com/fwlink/?LinkID=760719)。

<a name="Ex1Task6"></a>
### <a name="whats-next"></a>下一步是什么？
祝贺您，如果您有这做得 ！ 要了解更多您可以访问完整[的 API 参考建议](http://go.microsoft.com/fwlink/?LinkId=759348)，是否您有任何疑问，请不要犹豫与我们联系，邮箱︰mlapi@microsoft.com
