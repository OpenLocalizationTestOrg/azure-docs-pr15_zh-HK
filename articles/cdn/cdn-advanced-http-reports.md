<properties
    pageTitle="Azure CDN 高级 HTTP 报告 |Microsoft Azure"
    description="在 Microsoft Azure CDN 的高级的 HTTP 报表。 这些报告提供有关 CDN 活动详细的信息。"
    services="cdn"
    documentationCenter=""
    authors="camsoper"
    manager="erikre"
    editor=""/>

<tags
    ms.service="cdn"
    ms.workload="tbd"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="07/28/2016"
    ms.author="casoper"/>

# <a name="advanced-http-reports-in-microsoft-azure-cdn"></a>在 Microsoft Azure CDN 的高级的 HTTP 报表

## <a name="overview"></a>概述

本文介绍了 Microsoft Azure CDN 中报告高级 HTTP。 这些报告提供有关 CDN 活动详细的信息。

[AZURE.INCLUDE [cdn-premium-feature](../../includes/cdn-premium-feature.md)]

## <a name="accessing-advanced-http-reports"></a>访问高级的 HTTP 报告

1. 从 CDN 配置文件刀片式服务器，请单击**管理**按钮。

    ![CDN 配置文件刀片式服务器管理按钮](./media/cdn-advanced-http-reports/cdn-manage-btn.png)

    CDN 管理门户打开。

2. 悬停在**分析**选项卡，然后悬停在**高级 HTTP 报告中**飞出。  单击**HTTP 大平台**。

    ![CDN 管理门户-高级报表菜单](./media/cdn-advanced-http-reports/cdn-advanced-reports.png)

    将显示报表的选项。

## <a name="geography-reports-map-based"></a>地理位置报表 （基于映射）

有五个报表，利用地图来指示所请求内容的区域。 这些报告是世界地图、 美国地图、 加拿大地图、 欧洲地图和亚洲太平洋映射。

每个报表基于地图的秩地理实体 （即国家/地区、 州和省） 根据来自该地区的命中的百分比。 此外，地图可用于帮助您直观地显示所请求内容的位置。 它就能够通过颜色编码每个地区根据需求在该地区有经验的量来做到。 较轻的阴影的区域表示较低要求您的内容，尽管较暗区域表示对您的内容的需求更高级别。

地图下方提供了流量和带宽为每个地区进行详细的信息。 这样您可以查看的点击次数，点击量的百分比，总数据量的总数 （以千兆字节计），转移和每个区域传输的数据的百分比。 查看每个这些指标说明。 最后，当鼠标悬停在一个区域 （即国家、 状态或省），名称和在区域发生的命中的百分比将显示为工具提示。

每种类型的基于地图的地理报告下文的简要说明。

报告名称 | 说明
------------|------------
世界地图 | 此报告允许您查看对 CDN 内容的全球需求。 每个国家都有颜色标记以指示来自该地区的命中的百分比在世界地图上。
美国地图 | 此报告允许您查看在美国境内对 CDN 内容的需求。 每个状态是此映射，指示来自该地区的命中的百分比在不同颜色的。
加拿大映射 | 此报告允许您查看在加拿大对 CDN 内容的需求。 每个省则施以不同的颜色在此映射，指示来自该地区的命中的百分比。
欧洲地图 | 此报告允许您查看在欧洲对 CDN 内容的需求。 每个国家为此映射，指示来自该地区的命中的百分比在不同颜色。
亚洲太平洋映射 | 此报告允许您查看对 CDN 内容的需求在亚洲。 每个国家为此映射，指示来自该地区的命中的百分比在不同颜色。

## <a name="geography-reports-bar-charts"></a>地理位置报告 （条形图）

有两个其他报告提供统计信息，根据地理区域，即前城市和前国家。 这些报告城市和国家/地区，分别排名根据来自这些区域的命中数。 在生成这种类型的报表，条形图将指示前 10 的城市或国家/地区的请求在特定平台上的内容。 该条形图可快速评估生成内容的请求数最高的地区。

右侧的图表 （y 轴） 表示在指定的区域发生多少点击。 正下方图 （x 轴） 中，您将找到热门的 10 个地区的每个标签。

### <a name="using-the-bar-charts"></a>使用条形图

* 如果鼠标悬停在一个条形图，将作为工具提示显示的名称和在该地区发生的总次数。
* 前城市报告的工具提示标识按其名称、 州/省和国家/地区的缩写的城市。
* 如果不能确定城市或区域 （即，州/省） 请求产生的它将表明它们是未知。 如果国家/地区 （如字段） 是未知，则两个问号，都将显示。
* 报表可能包括指标为"欧洲"或"亚太区域"。 这些项目不打算提供统计信息，在这些区域中的所有 IP 地址。 相反，它们只应用于来自分布在欧洲或亚太地区而不是为特定的市/县或国家/地区的 IP 地址的请求。

它下面，可以查看用于生成条形图的数据。 那里，您会发现总数命中，访问次数的百分比，数据量传输 （以千兆字节计），并最多 250 个区域传输数据的百分比。 查看每个这些指标说明。

为两种类型的以下报告提供了简要说明。

报告名称 | 说明
------------|------------
前城市 | 此报告从该地区排名根据产生的点击次数的城市。
顶部的国家/地区 | 此报告排名从该区域国家根据产生的点击次数。

## <a name="daily-summary"></a>每日摘要

每日摘要报告允许您查看点击量和每天都在特定平台上传输的数据的总数。 此信息可用于快速辨别 CDN 活动模式。 例如，此报告可以帮助您检测哪天有经验更高或低于预期的通信量。

后生成这种类型的报表，条形图将提供可视提示有关经验丰富的特定于平台的需求总量每天报告所涵盖的时间段内。 那么它就会通过显示一个条形图报告中每一天。 例如，选择的时间段称作"上周"将生成与七条条形图。 每个条形将指示在那一天有经验的命中总数。

右侧的图表 （y 轴） 表示多少点击出现在指定的日期。 下方图 （x 轴） 中，您会发现使用标志以指示该日期 (格式︰ YYYY MM DD) 包含在报表中的每一天。

> [AZURE.TIP] 如果鼠标悬停在一个条形图，总出现在这一天的点击次数将显示为工具提示。

它下面，可以查看用于生成条形图的数据。 您将找到总点击次数和 （以千兆字节计） 传送的数据量报告所涵盖的每一天。

## <a name="by-hour"></a>按小时

按小时报告允许您查看点击量和按每小时在特定平台上传输的数据的总数。 此信息可用于快速辨别 CDN 活动模式。 例如，此报告可以帮助您检测经验或高或低预期流量比白天的时间周期。

在生成这种类型的报表，条形图将提供视觉提示有关报告所涵盖的时间段内出现每小时生成的特定于平台的需求总量。 那么它就会通过报告所涵盖的每小时显示一个条形图。 例如，选择 24 小时时间段将生成与二十四条条形图。 每个条形将指示在该时间内经验丰富的命中总数。

右侧的图表 （y 轴） 表示多少点击出现在指定的小时。 将关系图 （x 轴） 的正下方找到标签，可指明日期/时间 (格式︰ YYYY MM DD hh: mm) 包含在报表中每个小时。 使用 24 小时格式报告的时间，并指定使用 UTC/格林威治标准时间的时区。

> [AZURE.TIP] 如果鼠标悬停在一个条形图，则在该时间内发生的总次数将显示为工具提示。

它下面，可以查看用于生成条形图的数据。 那里您将报告所涵盖的每小时找到总点击次数和 （以千兆字节计） 传送的数据量。

## <a name="by-file"></a>由文件

按文件报告允许您查看量需求和最常请求的资源的特定平台上发生的通信。 后生成这种类型的报表，条形图将生成上 10 个最常请求的资产在指定的时间段。

> [AZURE.NOTE] 对于本报告而言，边缘 CNAME Url 转换为其等效 CDN Url。 这使得与边缘 CNAME URL 用来申请 CDN 无论资产的总次数的准确计数。

右侧的图表 （y 轴） 表示在指定的时间段内的每项资产的请求数。 直接下图 （x 轴） 中，您会发现表示文件名，每顶 10 个请求的资产标签。

它下面，可以查看用于生成条形图的数据。 该网站可以找到每个顶部的 250 请求资源的以下信息︰ 相对路径、 总点击次数、 访问次数的百分比的数据量 （以千兆字节计），传输和传输的数据的百分比。

## <a name="by-file-detail"></a>通过文件的详细信息

文件详细信息的报表可以查看量需求和特定资产的特定平台上发生的通信。 在此报告的最顶端是文件的详细信息的选项。 此选项在选定的平台上提供您最常请求的资源的列表。 要生成的文件详细信息的报表，您需要从文件的详细信息的选项中选择所需的资产。 此后，条形图将会显示它在指定的时间段内生成的每日需求量的量。

右侧的图表 （y 轴） 表示资产，在某一天遇到的请求的总数。 下方图 （x 轴） 中，您会发现使用标志以指示该日期 (格式︰ YYYY MM DD) 的 CDN 的报告对资产的需求。

它下面，可以查看用于生成条形图的数据。 您将找到总点击次数和 （以千兆字节计） 传送的数据量报告所涵盖的每一天。

## <a name="by-file-type"></a>按文件类型

按文件类型报表可以查看要求和文件类型所产生的流量总量。 在生成这种类型的报表，圆环图将指示产生的前 10 个文件类型的点击次数的百分比。

> [AZURE.TIP] 如果鼠标悬停在圆环图中的扇区，互联网的媒体类型的文件类型，会显示为工具提示。

它下面，可以查看用于生成圆环图的数据。 您将找到文件名扩展名/互联网媒体类型，总点击次数，点击次数，占 （以千兆字节计），传输的数据量和最多 250 个文件类型的每个传输的数据的百分比。

## <a name="by-directory"></a>目录

通过目录报告允许您查看量需求和在特定目录中的内容的特定平台上发生的通信。 在生成这种类型的报表，条形图将指示热门的 10 个目录中的内容由生成的点击的总数。

### <a name="using-the-bar-chart"></a>使用条形图

* 将鼠标悬停在一个栏以查看相应的目录的相对路径。
* 通过目录来计算需求时，目录的子文件夹中存储的内容不计。 此计算仅依赖于为实际目录中存储的内容生成的请求数。
* 对于本报告而言，边缘 CNAME Url 转换为其等效 CDN Url。 这样，无论 CDN 或边缘 CNAME URL 用来申请资产相关的所有统计信息的准确计数。

右侧的图表 （y 轴） 表示对十大目录中存储内容的请求的总数。 每个图表上的条块表示一个目录。 使用颜色代码方案调到顶部 250 完整目录部分中列出的目录栏。

它下面，可以查看用于生成条形图的数据。 该网站可以找到每个最多 250 个目录的以下信息︰ 相对路径、 总点击次数、 访问次数的百分比的数据量 （以千兆字节计），传输和传输的数据的百分比。

## <a name="by-browser"></a>通过浏览器

通过浏览器报告允许您查看已使用哪个浏览器请求的内容。 生成这种类型的报告，在饼形图将指示前十种浏览器处理的请求的百分比。

### <a name="using-the-pie-chart"></a>使用饼图

* 将鼠标悬停在切片中饼图来查看浏览器的名称和版本。
* 本报告的目的，对于每个唯一的浏览器版本组合被视为不同的浏览器。
* 名为"其他"切片指示处理所有其他浏览器和版本的请求百分比。

它下面，可以查看用于生成饼图图表的数据。 那里您会发现浏览器类型中的版本数、 总点击次数和访问次数的百分比为每个最多 250 个浏览器。

## <a name="by-referrer"></a>通过引用

通过引用报告允许您查看选定的平台上的内容的顶部引用数。 参照指示从中生成一个请求的主机名。 一旦生成这种类型的报表，条形图将指示前 10 个引用由生成的需求 （即点击率） 的量。

右侧的图表 （y 轴） 表示资产遇到的每个引用站点的请求总数。 每个图表上的条块表示引用站点。 使用颜色代码方案调到顶部 250 引用一节中列出的站点引用栏。

它下面，可以查看用于生成条形图的数据。 您将找到 URL、 命中，总数和每个顶部 250 引用生成的访问次数的百分比。

## <a name="by-download"></a>通过下载

通过下载报表可以分析您最常请求的内容的下载模式。 报告的顶部包含一个条形图，该图将尝试下载已完成下载的热门的 10 个请求资产。 每个条形颜色进行了编码根据它是否 （蓝色） 尝试的下载或已完成的下载 （绿色）。

> [AZURE.NOTE] 对于本报告而言，边缘 CNAME Url 转换为其等效 CDN Url。 这样，无论 CDN 或边缘 CNAME URL 用来申请资产相关的所有统计信息的准确计数。

右侧的图表 （y 轴） 表示文件名，每顶 10 个请求的资产。 正下方图 （x 轴） 中，您将找到标签指示尝试完成下载的总次数。

直接下方条形图中，以下信息将列出的前 250 请求资产︰ 相对路径 （包括文件名）、 完成下载的次数、 被请求的次数和导致完整的下载请求的百分比。

> [AZURE.TIP] HTTP 客户端 （例如浏览器） 不通知我们 CDN 当资产已完全下载。 因此，我们需要计算资产是否已完全下载根据状态代码和字节范围请求。 进行这一计算时，我们看的第一件事是是否该请求会导致 200 OK 状态代码。 如果是这样，然后我们看字节范围请求，以确保它们涵盖整个资产。 最后，我们将转移到资产请求的大小的数据量进行比较。 如果数据传输的文件的大小大于或等于且适合于该资产的字节范围请求，命中将算作完整下载。
>
>由于该报告的解释性性质，您应牢记以下几点的一致性和准确性，此报告可能会更改。
>
>* 当用户代理的行为不同，无法准确地预测通信模式。 这可能会产生大于 100%的已完成的下载结果。
>* 利用 HTTP 渐进式下载的资产可能不准确地表示此报告。 这是因为用户可能寻求到视频中的不同位置。

## <a name="by-404-errors"></a>由 404 错误

通过 404 错误报告允许您标识的最多的 404 找不到状态代码生成的内容的类型。 报告的顶部包含为其返回 404 找不到状态代码的十大资产条形图。 该条形图比较具有导致 404 找不到状态代码为这些资产的请求的请求的总数。 每个条形颜色进行了编码。 黄条用于指示请求导致 404 找不到状态代码。 一条红色的用来表示对该资产的请求的总数。

> [AZURE.NOTE] 本报告的目的，请注意以下事项︰
>
>* 一次点击表示资产无论状态代码的任何请求。
>* 边缘 CNAME Url 转换为其等效的 CDN Url。 这样，无论 CDN 或边缘 CNAME URL 用来申请资产相关的所有统计信息的准确计数。

右侧的图表 （y 轴） 表示顶部 10 个请求资产，导致找不到 404 状态代码的每个文件的名称。 正下方图 （x 轴） 中，您将找到标签表示的总请求数和导致 404 找不到状态代码的请求数。

直接下方条形图中，以下信息将列出的前 250 请求资产︰ 相对路径 （包括文件名）、 导致 404 找不到状态代码的请求数，请求该资产，总次数和导致 404 找不到状态代码的请求的百分比。

## <a name="see-also"></a>请参见
* [Azure CDN 概述](cdn-overview.md)
* [在 Microsoft Azure CDN 的实时统计](cdn-real-time-stats.md)
* [重写默认 HTTP 行为使用规则引擎](cdn-rules-engine.md)
* [分析边缘性能](cdn-edge-performance.md)
