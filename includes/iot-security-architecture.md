# <a name="internet-of-things-security-architecture"></a>互联网的内容安全体系结构

在设计系统时，务必理解到该系统中，潜在的威胁，因此，添加适当的防御措施，如系统设计和体系结构。 它是特别重要，因为在从开始位置在了解如何攻击可能会破坏系统有助于确保适当的缓解措施注重安全性的设计从一开始的产品。 

## <a name="security-starts-with-a-threat-model"></a>安全启动使用威胁模型
 
Microsoft 已长时间使用威胁模型为其产品，并已完成公司的威胁建模过程公开可用。 公司的经验说明，建模有意外的好处之外的威胁是最直接的理解有关。 例如，它还创建的公开讨论的途径与他人之外开发团队，会导致新的想法和产品的改进。
  
威胁建模的目标是了解如何攻击者可能能够破坏系统，并确保适当的缓解措施均已到位。 威胁建模力设计团队需要考虑缓解，随着系统的设计而不是系统后进行部署。 这一事实是非常重要的因为改造为域中的设备提供多种安全防御措施是不可行的易出错并将风险保留客户。

许多开发团队做极好地捕获系统的功能要求，使客户受益。 但是，确定有人可能误用系统不明显的方法是更具挑战性。 威胁建模可以帮助开发团队了解攻击者可能会做些什么和为什么。 威胁建模是一个结构化的过程，在系统中，创建一个关于安全性的讨论设计决策，以及进行途中，影响安全的设计更改。 威胁模型是简单文档，本文档还表示确保中学到的知识，经验教训保留的连续性，并帮助新板载团队快速的理想方法。 最后，建立威胁模型的结果是安全的，使您能够考虑其他方面，如您希望向客户提供何种安全承诺。 威胁建模结合这些承诺将通知，并推动互联网的东西 (IoT) 解决方案的测试。
 

### <a name="when-to-threat-model"></a>当以威胁模型

[威胁建模](http://www.microsoft.com/security/sdl/adopt/threatmodeling.aspx)提供最大的价值，如果它被合并到设计阶段。 在设计时必须进行更改以消除威胁最大的灵活性。 通过设计消除威胁是预期的成果。 它是比添加缓解对它们进行测试，确保它们保持最新，而且，这种排除不可能总是容易得多。 它越来越难以消除威胁，产品变得更成熟，并进而最终需要更多的工作并比威胁建模在早期开发中很难权衡。

### <a name="what-to-threat-model"></a>对威胁模型

您应线程模型作为一个整体的解决方案，并还将重点放在以下几个方面︰

- 安全和隐私功能
- 其失败的安全相关功能
- 信任边界的触摸功能 

### <a name="who-threat-models"></a>谁威胁模型

威胁建模是像任何其他的过程。  它是一个好主意，将像其他任何解决方案组件威胁模型文档，并对其进行验证。 许多开发团队做极好地捕获系统的功能要求，使客户受益。 但是，确定有人可能误用系统不明显的方法是更具挑战性。 威胁建模可以帮助开发团队了解攻击者可能会做些什么和为什么。

### <a name="how-to-threat-model"></a>如何威胁模型

威胁建模过程包括四个步骤;步骤如下︰

- 该应用程序的模型
- 枚举的威胁
- 缓解威胁
- 验证了缓解

#### <a name="the-process-steps"></a>过程步骤

三个法则构建威胁模型时，需要牢记︰

1. 创建从参考体系结构关系图。 
2. 启动众多第一。 获取概述，并了解系统作为一个整体之前要深说。  这有助于确保该您深入探讨在正确的位置。
3. 推动该进程，不要让推动您的过程。 如果您在建模阶段发现问题，并且想要探索它，试试看吧 ！  不要认为您需要盲目遵循这些步骤。  

#### <a name="threats"></a>威胁

威胁模型四个要素是︰

- 进程 (web 服务、 Win32 服务 * 不守护程序，等等。请注意某些复杂的实体 （例如域的网关和传感器） 可以抽象出来，因为当技术深化这方面的进程是不可能。
- 数据存储 （存储数据，如配置文件或数据库的任意位置）
- 数据流 （在数据应用程序中的其他元素之间移动）
- 外部实体 （任何与系统进行交互，但不是在应用程序的控制下，示例包括用户和卫星源）

该体系结构关系图中的所有元素容易都受到各种威胁;我们将使用 STRIDE 助记键。 [威胁建模再次，跨距](https://blogs.msdn.microsoft.com/larryosterman/2007/09/04/threat-modeling-again-stride/)可了解更多有关 STRIDE 元素中读取。

应用程序关系图中的不同元素受到某些 STRIDE 威胁︰

- 过程进行步长
- 数据流受到 TID
- 数据存储区进行 TID，和有时 R，如果数据存储区日志文件。
- 外部实体受到 SRD

## <a name="security-in-iot"></a>安全的 IoT

连接的专用设备上存在大量的潜在交互图面区域和交互模式，必须考虑所有这些保护数字访问这些设备提供了一个框架。 "数字控制"这一术语用于此处开来通过直接设备交互执行的任何操作访问安全性可通过物理访问控制。 例如，放入设备锁的房间里盖上。 虽然不能使用的软件和硬件拒绝物理访问权限，可以采取措施，以防止从领先的物理访问系统干扰所致。 

我们了解如何交互模式，我们将看在同一个级别的关注的"设备控制"和"设备数据"。 "设备控制"可被归类为提供给设备的任何一方改变或影响其行为向其状态或状态及其环境的目标的任何信息。 "设备数据"可被归类为一个设备到其状态，并观察到其环境的状态有关的任何其他方发出的任何信息。
   
为了优化安全最佳做法，建议一个典型 IoT 体系结构被划分为多个组件/区域作为威胁建模练习的一部分。 这些区域整节完全描述，它包括︰

-   设备，
-   域的网关，
-   云的网关，并
-   服务。

区域是广泛办法细分解决方案;每个区域通常有其自己的数据和身份验证和授权的要求。 区域可以被用来隔离损坏和限制上的更高信任区的低信任区域的影响。

每个区域由信任边界，进行了说明与下图中的红色虚线隔开。 它从一个源到另一个代表数据/信息的转换。 在这种转换，数据信息可能面临伪造、 篡改、 否认、 信息泄露、 拒绝服务和特权提升 （步幅）。

![IoT 安全区域](media/iot-security-architecture/iot-security-architecture-fig1.png) 

每个边界内所示的组件还受到步幅，启用完整的 360 威胁建模解决方案的视图。 以下各节详细阐述每个组件和特定的安全问题和应该放置到位的解决方案上。

后面的章节将讨论标准组件通常在这些区域中找到。

### <a name="the-device-zone"></a>设备区域

设备环境是围绕设备的直接物理空间，其中物理访问和/或"本地网络"对等访问设备的数字是可行的。 "本地网络"被认为是截然不同，绝缘从 – 但可能过渡到 – 公共互联网，并包括任何允许对等通信的设备的近距离无线通讯技术的网络。 它*不*包括任何错觉这样的本地网络的网络虚拟化技术，还不包括公共运算符网络需要跨公共网络空间通信，就像进入一个对等通信关系的任何两个设备。

### <a name="the-field-gateway-zone"></a>域的网关区域

域的网关是一个设备/装置或某些通信启用码及其可能的作为一种设备控制系统和设备的数据处理中心的作用的一般用途服务器计算机软件。 域的网关区域包含的域的网关本身和与其连接的所有设备。 顾名思义，域的网关操作外部专用的数据处理设施通常是绑定的位置，都可能由物理入侵，，只有有限的运营冗余。 所有要说的域的网关通常是一件事情之一可以触摸和破坏时知道它的功能什么。 

一个域的网关是不同于单纯的流量路由器有积极的管理访问和信息流，意味着它一个应用程序解决实体和网络连接或会话终端。 NAT 设备或者防火墙，相比之下，未限定为域的网关因为他们不是显式连接或会话终端，而是而是路由 （或块） 连接或通过它们进行的会话。 网关域有两种不同的表面区域。 一个面临着与它相连的设备和表示的区域内和其他面临所有外部参与方并且区域的边缘。   

### <a name="the-cloud-gateway-zone"></a>云网关区域

网关云是跨公共网络空间，通常针对一个基于云的控件和数据分析系统，此类系统的联合身份验证允许远程通信和到设备或字段从几个不同的站点的网关系统。 在某些情况下，云网关可能立即加速访问到特殊用途设备从平板电脑或手机等终端。 在这里讨论的上下文中，"云"是为了指未绑定到相同的站点作为域的网关的连接的设备的专用的数据处理系统。 此外在云区域，运营指标防止目标的物理访问，并不一定知道"公共云"基础结构。  

可能可以避免云关和所有连接的设备或任何其他网络通信中的字段网关的网络虚拟化叠加到映射云关。 云的网关本身是既不设备控制系统也不处理或存储设施设备数据;这些设施与云关。 云网关区域包括云网关本身以及所有域的网关和直接或间接地连接到该设备。 该区域的边缘是所有外部参与方通过在其中进行通信的不同面。

### <a name="the-services-zone"></a>服务区域

为此上下文的所有软件组件或交互与设备通过字段或云的网关的数据收集和分析，以及对命令和控制的模块定义了"服务"。  服务是仲裁人。 它们作用下其身份向网关和其他子系统、 存储和分析数据、 自主设备发出命令基于数据的见解或计划公开信息和控制功能给授权的最终用户。

### <a name="information-devices-vs-special-purpose-devices"></a>信息-设备与专用设备

个人电脑、 电话和平板电脑的主要交互信息设备。 手机和平板电脑被明确优化围绕电池寿命最大化。 他们最好是关闭部分或不能提供服务，如播放音乐或到特定位置指导其所有者时不立即与人进行交互。 从系统的角度看，这些信息技术设备都主要作为向人代理。 它们是"人们制动器"操作和"人传感器"收集输入的建议。 

特殊用途的设备，从简单的温度传感器到复杂的工厂生产线，有上千个，组件是不同的。 这些设备更限定用途的范围，即使它们提供了一些用户界面，在很大程度上限于相连或集成到现实生活中的资产。 他们测量和报告环境的情况下，打开阀门，控制 servos、 声音告警、 切换光源，并执行许多其他任务。 他们帮助做工作为其信息设备是太笼统、 太贵、 太大，或太脆弱。 具体目的立即为很好地用于其生产和计划的生命周期操作可用货币预算规定它们的技术设计。 这两个关键因素的组合约束的可操作的能源预算、 占用的物理空间，因而可用存储器中，计算和安全功能。  

如果某件事情"转错误"与自动化或远程控制设备，例如，物理缺陷或控制逻辑缺陷对无意识未经授权的入侵和操作。 可能破坏生产批次、 建筑物可能 looted 或刻录下，和人可能重伤甚至骰子。 这是损害的，当然，一个完全不同类比有人滥用被盗的信用卡的限制。 使移动，操作的设备，还负责最后导致所需移动，操作的命令的传感器数据的安全栏必须高于任何电子商务或银行业务方案中。 


### <a name="device-control-and-device-data-interactions"></a>设备控制和设备数据交互

连接的专用设备上存在大量的潜在交互图面区域和交互模式，必须考虑所有这些保护数字访问这些设备提供了一个框架。 "数字控制"这一术语用于此处开来通过直接设备交互执行的任何操作访问安全性可通过物理访问控制。 例如，放入设备锁的房间里盖上。 虽然不能使用的软件和硬件拒绝物理访问权限，可以采取措施，以防止从领先的物理访问系统干扰所致。 
 
我们了解如何交互模式，我们将看在威胁建模时注意在同一个级别的"设备控制"和"设备数据"。 "设备控制"可被归类为提供给设备的任何一方改变或影响其行为向其状态或状态及其环境的目标的任何信息。 "设备数据"可被归类为一个设备到其状态，并观察到其环境的状态有关的任何其他方发出的任何信息。 

## <a name="threat-modeling-the-azure-iot-reference-architecture"></a>威胁建模的 Azure IoT 参考体系结构

Microsoft 使用要不要威胁建模的 Azure IoT 上面所述的框架。 在下面一节我们因此使用 Azure IoT 参考体系结构的具体示例来演示如何考虑威胁建模为 IoT 和如何解决已识别的威胁。 在我们的例子中，我们发现四个主要关注领域︰

-   设备和数据源
-   数据传输
-   设备和事件处理和
-   演示文稿

![威胁建模为 Azure IoT](media/iot-security-architecture/iot-security-architecture-fig2.png) 

下图提供了 Microsoft 的 IoT 体系结构的简化的视图使用 Microsoft 威胁建模工具使用数据流图模型︰

![威胁建模为 Azure IoT 使用 MS 威胁建模工具](media/iot-security-architecture/iot-security-architecture-fig3.png)

请务必请注意该体系结构将分开的设备和网关功能。 这使用户能够利用更安全的网关设备︰ 它们是能够与云网关使用安全协议，这通常需要进行更好的处理开销，本机设备的调温器-如无法提供自己通讯。 在 Azure 服务区域中，我们假定云关由 Azure IoT 中心服务。

### <a name="device-and-data-sourcesdata-transport"></a>设备和数据源中的数据传输

本节探讨建立威胁模型的镜头通过上面所述的体系结构，并概述我们如何应对的一些固有的问题。 我们将重点介绍威胁模型的核心元素︰

- 进程 （那些在我们的控制和外部项下）
- 通讯 （也称为数据流）
- 存储 （也称为数据存储区）

#### <a name="processes"></a>进程

我们尝试在每个类别中的 Azure IoT 体系结构概述，整个过程中存在的数据/信息的不同阶段缓解大量不同的威胁︰ 流程、 通信和存储。 下面我们提供的"进程"类别，跟概述如何这些可以最好地减轻最常见的概述︰ 

**欺骗 (S)**: 攻击可能将加密的密钥资料提取设备，任何一个级别的软件或硬件，并随后访问设备的密钥材料的标识下不同的物理或虚拟设备的系统采用了从。 好的图显示的是远程控制，可将任何电视并且流行的顽劣工具。

**服务拒绝 (D)**: 可以呈现设备无法正常工作或通信通过干扰无线电频率或剪切电线。 例如，有故意挖其电源或网络连接监控摄像头也不在所有报告数据。

**篡改 (T)**: 攻击者可能会部分或完全替换设备上运行的软件可能允许利用设备的真实身份，如果密钥材料或持有密钥资料的加密功能可用于非法程序更换的软件。 例如，攻击者可能利用提取密钥材料截取和禁止显示设备上的通信路径中的数据并将其替换为假身份被盗的密钥材料的数据。

**(I) 信息泄漏**︰ 如果设备正在运行操作的软件，此类操作的软件可能会向未授权方的数据可能会泄漏。 例如，攻击者可能会利用提取密钥材料本身注入设备和控制器或域的网关或云网关来抽取信息关之间的通信路径。

**特权提升 (E)**: 执行其他操作，可以强制执行特定功能的设备。 例如，可以欺骗阀门的设计是为了打开一半一直打开。

| **组件** | **威胁** | **缓解措施**                                                                                                                                                | **风险**                                                                                                                                                                                                    | **实现**                                                                                                                                                                                                                                                                                                                                     |
|---------------|------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 设备        | S          | 分配给设备的标识和身份验证设备                                                                                                | 与其他一些设备更换设备的一部分。 我们如何知道我们说的对正确的设备？                                                                                           | 对该设备，使用传输层安全性 (TLS) 或 IPSec 进行身份验证。 在这些设备中不能处理完全不对称密码系统应支持使用预共享的密钥 (PSK) 的基础结构。 利用 Azure 广告， [OAuth](http://www.rfc-editor.org/in-notes/internet-drafts/draft-ietf-ace-oauth-authz-01.txt)                             |
|               | TRID       | 例如将具有防篡改性机制适用于设备中使其很难向无法从设备中提取密钥和其他加密材料。 | 风险是，如果某人被篡改 （物理干扰） 的设备。 是我们如何确保，该设备没有篡改。                                                                                 | 最有效的缓解是一个受信任的平台模块 (TPM) 功能，允许将密钥存储在特殊的芯片电路的键无法读取，但仅用于使用密钥，但从未公开密钥的加密操作。 内存设备的加密。 该设备的密钥管理。 签名代码。 |
|               | 电子          | 无访问控制的设备。 授权方案。                                                                                                    | 如果设备允许执行的单个操作根据来自外部源或甚至被破坏的传感器的命令，它将允许执行操作，否则不该攻击可访问。 | 拥有该设备的授权方案                                                                                                                                                                                                                                                                                                             |
| 域的网关 | S          | 验证字段网关到网关云 (cert，PSK，索赔，..)                                                                           | 如果有人可以欺骗域的网关，然后它可以表现为任何设备。                                                                                                                               | TLS RSA/PSK IPSe， [RFC 4279](https://tools.ietf.org/html/rfc4279)。 所有相同的设备通常--关键的存储和审计问题最佳案例是使用 TPM。 IPSec 支持无线传感器网络 (WSN) 的 6LowPAN 扩展名。                                                                                                              |
|               | TRID       | 保护域网关进行篡改 (TPM)？                                                                                                            | 欺骗诱使它正在域的网关的云关思维的攻击可能导致信息泄露和数据篡改                                                             | 内存加密，TPM 的身份验证。                                                                                                                                                                                                                                                                                                              |
|               | 电子          | 网关域的访问控制机制                                                                                                                    |                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                        |

下面是此类威胁的一些示例︰

欺骗︰ 攻击者可能从一种设备，可以在软件或硬件级别和随后的访问设备的密钥材料的标识下不同的物理或虚拟设备的系统采用了从提取加密密钥材料。

**拒绝服务**︰ 可以呈现设备无法正常工作或通信通过干扰无线电频率或剪切电线。 例如，有故意挖其电源或网络连接监控摄像头也不在所有报告数据。

**篡改**︰ 攻击者可能会部分或完全替换设备上运行的软件可能允许利用设备的真实身份，如果密钥材料或持有密钥资料的加密功能可用于非法程序更换的软件。

**篡改**︰ 空走廊的可见光谱图片显示的监控摄像机可能旨在此类走廊的照片。 冒烟或起火的传感器无法报告人持有其下的轻。 在任一情况下，可能从技术上讲完全可靠系统，向设备但它将报告操作的信息。

**篡改**︰ 攻击者可能会利用提取密钥材料截取和禁止显示设备上的通信路径中的数据并将其替换为假身份被盗的密钥材料的数据。

**篡改**︰ 攻击者可能会部分或完全替换设备上运行的软件可能允许利用设备的真实身份，如果密钥材料或持有密钥资料的加密功能可用于非法程序更换的软件。
   
**信息披露**︰ 如果设备正在运行操作的软件，此类操作的软件可能会向未授权方的数据可能会泄漏。

**信息披露**︰ 攻击者可能会利用提取密钥材料本身注入设备和控制器或域的网关或云网关来抽取信息关之间的通信路径。

**拒绝服务**︰ 可关闭或变成一种模式不可能 （这是有意在许多工业机） 通讯设备。

**篡改**︰ 可以重新配置该设备状态未知 （超出已知的校准参数） 控制系统的操作，并因此提供了数据可能被误解

**特权提升**︰ 执行其他操作，可以强制执行特定功能的设备。 例如，可以欺骗阀门的设计是为了打开一半一直打开。

**拒绝服务**︰ 该设备可以转换不能通信的状态。

**篡改**︰ 可以重新配置该设备状态未知 （超出已知的校准参数） 控制系统的操作，并因此提供了数据可能被误解。
 
**否认性欺骗/篡改**︰ 如果不安全的 （这几乎不是与使用者远程控制的情况） 攻击者可以以匿名方式操纵设备的状态。 好的图显示的是远程控制，可将任何电视并且流行的顽劣工具。

#### <a name="communication"></a>通信

设备、 设备和域的网关设备和云网关之间的通信路径的威胁。 下表打开的套接字上设备 /VPN 周围有一些指导︰

| **组件**               | **威胁** | **缓解措施**                                      | **风险**                                                                                                      | **实现**                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------------|------------|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 设备 IoT 集线器              | TID        | (D)TLS (PSK/RSA) 通信进行加密             | 窃听或干扰设备和网关之间的通信                             | 在协议级的安全。 如果使用自定义的协议，我们需要弄清楚如何保护它们。 在大多数情况下，通信方式采用从设备到 IoT 集线器 （设备初始化连接） 的地方。                                                                                                                                                                 |
| 设备设备               | TID        | (D)TLS (PSK/RSA) 通信进行加密。            | 读取设备之间的传输中的数据。 篡改数据。 重载带有新的连接的设备 | 安全协议级 (MQTT/AMQP/HTTP/CoAP。 如果使用自定义的协议，我们需要弄清楚如何保护它们。 为 DoS 威胁缓解是可以通过云或域的网关设备并将其作为向网络客户端仅法案。 对等可能导致后无由网关已通过代理对等方之间的直接连接 |
| 外部实体设备      | TID        | 强配对的设备的外部实体 | 窃听到设备的连接。 与设备干扰通信                     | 安全地配对到 LE NFC/Bluetooth 的设备的外部实体。 控制设备 （物理） 的操作面板                                                                                                                                                                                                                                                  |
| 字段关云关 | TID        | TLS (PSK/RSA) 通信进行加密。               | 窃听或干扰设备和网关之间的通信                             | 在协议级 (MQTT/AMQP/HTTP/CoAP) 的安全。 如果使用自定义的协议，我们需要弄清楚如何保护它们。                                                                                                                                                                                                                                                       |
| 设备云网关        | TID        | TLS (PSK/RSA) 通信进行加密。               | 窃听或干扰设备和网关之间的通信                             | 在协议级 (MQTT/AMQP/HTTP/CoAP) 的安全。 如果使用自定义的协议，我们需要弄清楚如何保护它们。                                                                                                                                                                                                                                                       |

下面是此类威胁的一些示例︰

**拒绝服务**︰ 受约束的设备通常是在 DoS 威胁下当他们主动侦听入站的连接或未经请求的数据报在网络上，因为攻击者可以打开多个并行连接不服务他们，或速度非常缓慢，提供这些服务或设备可能会淹没未经请求的通信。 在这两种情况下，设备可以有效地呈现在网络上不能运行。

**欺骗、 信息披露**︰ 受约束的设备和专用设备通常具有一个对于所有安全功能，如密码或 PIN 保护或它们完全依赖于信任网络，意味着设备在同一网络上，并且该网络通常只受一个共享的密钥时，他们将授予访问权限的信息。 这意味着当对设备或网络共享的机密才透露，有可能来控制设备或观察设备所发出的数据。  

**哄骗**︰ 攻击者可以截获或部分忽略广播并欺骗的发起方 （中间人）

**篡改**︰ 攻击者可以截获或部分忽略广播并发送虚假信息 

**信息泄漏︰**攻击可能窃听广播并获取未经授权的信息**拒绝服务︰**攻击可能会卡纸的广播的信号，并拒绝信息分发

#### <a name="storage"></a>存储

每个设备和域的网关具有某种形式的存储 （临时队列数据、 os 映像存储）。

| **组件**                            | **威胁** | **缓解措施**                       | **风险**                                                                                                                                                                                                                                                                                                                | **实现**                                                                                                                                                     |
|------------------------------------------|------------|--------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 设备存储                           | TRID       | 存储加密、 签名日志 | 读取数据存储 （PII 数据），篡改遥测数据。 篡改排队或缓存的命令控制数据。 擅自更改配置或固件更新软件包时缓存或本地排队可能导致受到操作系统和/或系统组件                                         | 加密、 消息身份验证代码 (MAC) 或数字签名。 其中，强访问控制资源访问控制列表 (Acl) 或权限。 |
| 设备操作系统映像                          | TRID       |                                      | 篡改 OS/更换操作系统组件                                                                                                                                                                                                                                                                         | 只读的 OS 分区签名加密的 OS 映像                                                                                                                    |
| 字段 （队列数据） 的网关存储 | TRID       | 存储加密、 签名日志 | 读取数据存储 （PII 数据），篡改遥测数据篡改排队或缓存的命令控制数据。 篡改 （发送到设备或网关域） 的配置或固件更新软件包时缓存或本地排队可能导致受到操作系统和/或系统组件 | BitLocker                                                                                                                                                              |
| 域的网关 OS 映像                   | TRID       |                                      | 篡改 OS/更换操作系统组件                                                                                                                                                                                                                                                                          | 只读的 OS 分区签名加密的 OS 映像                                                                                                                    |

### <a name="device-and-event-processingcloud-gateway-zone"></a>设备和事件处理/云网关区域

一个云关是跨公共网络空间，通常针对一个基于云的控件和数据分析系统，此类系统的联合身份验证允许远程通信和到设备或字段从几个不同的站点的网关的系统。 在某些情况下，云网关可能立即加速访问到特殊用途设备从平板电脑或手机等终端。 在这里讨论的上下文中，"云"指来指未绑定到相同的站点作为连接的设备或域的网关、 专用的数据处理系统和运营指标，防止定位物理访问权限，但不是一定是对"公共云"基础结构。  可能可以避免云关和所有连接的设备或任何其他网络通信中的字段网关的网络虚拟化叠加到映射云关。 云的网关本身是既不设备控制系统也不处理或存储设施设备数据;这些设施与云关。 云网关区域包括云网关本身以及所有域的网关和直接或间接地连接到该设备。

网关云很是软件的自定义构建作为服务运行，用公开的终结点连接到的域的网关和设备。 这种情况下它必须注重安全性的设计。 请按照[SDL](http://www.microsoft.com/sdl)过程进行设计和构建此服务。 

#### <a name="services-zone"></a>服务区域

控制系统 （或控制器） 是一个软件解决方案，使用设备或域的网关或云网关控制一个或多个设备和/或收集和/或存储和/或分析的演示文稿或后续控制目的设备数据的接口。 控制系统是讨论的本文范围，可能会立即可以方便地与人的交互中的唯一实体。 异常是在设备上，像一个交换机，使用户可以关闭设备或更改其他属性，和它没有功能等效项可进行数字的中间物理控制曲面。 

中间的物理控制曲面是指在任何种类的控制逻辑约束的物理控制面功能这样一个等效的功能可以远程启动或可以避免远程输入的输入的冲突 – 这种 intermediated 的控制曲面在概念上附加到本地控制系统，利用该设备可能并行连接到任何其他远程控制系统相同的基础功能。 云计算可以在[云安全联盟 (CSA)](https://cloudsecurityalliance.org/research/top-threats/)页读取到的最大威胁。


## <a name="additional-resources"></a>其他资源

请参阅以下文章获取的其他信息︰

- [SDL 的威胁建模工具](https://www.microsoft.com/sdl/adopt/threatmodeling.aspx)
- [Microsoft Azure IoT 参考体系结构](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/)
 
